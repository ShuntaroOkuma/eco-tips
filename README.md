# エコTips ジェネレーター

電力と水の消費データ、気温、湿度、天気、在室人数を入力することで、エコな生活をするためのTipsを10個生成するWebアプリケーションです。

## 機能

- 電力使用量、水使用量、気温、湿度、天気、在室人数のデータ入力
- OpenAIまたはAnthropicのAPIを使用したTips生成
- データの永続化（localStorage）
- レスポンシブデザイン
- エラーハンドリング

## 技術スタック

- Next.js
- TypeScript
- Tailwind CSS
- OpenAI API / Anthropic API

## 必要条件

- Node.js 18.0.0以上
- OpenAIまたはAnthropicのAPIキー

## インストール方法

```bash
# リポジトリのクローン
git clone [リポジトリURL]
cd eco-tips

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

## 使用方法

1. アプリケーションを起動し、ブラウザで`http://localhost:3000`にアクセス
2. OpenAIまたはAnthropicのAPIキーを設定
3. 以下のような形式でデータを入力：
   ```
   電力使用量: 15kWh
   水使用量: 150L
   気温: 28℃
   湿度: 65%
   天気: 曇り
   在室人数: 3人
   ```
4. 「データを確認」をクリックして入力内容を確認
5. 「確定してTipsを生成」をクリックしてTipsを生成

## データ入力について

- 1つのテキストエリアで自由形式の入力が可能
- 入力データは自動的に解析されます
- 不足しているデータがある場合は指摘されます
- 解析結果は確認画面で確認できます

## APIの利用について

### セキュリティ

- APIキーはブラウザのローカルストレージにのみ保存され、外部に送信されることはありません
- サーバーサイドでのAPI呼び出し時のみ使用されます
- APIキーは「APIキーを削除」ボタンでいつでも削除可能です
- セキュリティのため、APIキーは定期的な更新を推奨します

### 利用料金

このアプリケーションでは、選択したLLMサービス（OpenAIまたはAnthropic）のAPIを使用します。
APIの利用には各サービスの料金体系に基づいて料金が発生します：

#### OpenAI API
- GPT-3.5-turboモデルを使用
- 1リクエストあたりの料金は使用するモデルによって異なります
- 詳細は[OpenAIの料金ページ](https://openai.com/pricing)をご確認ください

#### Anthropic API
- Claude 3 Sonnetモデルを使用
- 入力と出力のトークン数に基づいて料金が計算されます
- 詳細は[Anthropicの料金ページ](https://www.anthropic.com/pricing)をご確認ください

### APIキーの管理

- APIキーは「APIキーを削除」ボタンで削除できます
- 新しいAPIキーはいつでも再設定可能です
- OpenAIとAnthropicのAPIを切り替えて使用できます

## エラーハンドリング

以下のような場合にエラーメッセージが表示されます：

- APIキーが無効な場合
- APIのレート制限に達した場合
- データが不足している場合
- Tips生成に失敗した場合

## 注意事項

- APIキーは適切に管理してください
- 大量のリクエストを送信しないようご注意ください
- 生成されたTipsは参考情報として使用してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。